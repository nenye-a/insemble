# Migration `20200319175639-tenant-saved-properties`

This migration has been generated by Joshua at 3/19/2020, 5:56:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."SavedProperty" (
    "address" text  NOT NULL DEFAULT '',
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "matchValue" Decimal(65,30)  NOT NULL DEFAULT 0,
    "rent" integer   ,
    "spaceId" text  NOT NULL DEFAULT '',
    "sqft" integer  NOT NULL DEFAULT 0,
    "tenantUser" text   ,
    "thumbnail" text  NOT NULL DEFAULT '',
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."SavedProperty" ADD FOREIGN KEY ("tenantUser") REFERENCES "public"."TenantUser"("id") ON DELETE SET NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200318172916-convertation-space-and-pending-conv-update..20200319175639-tenant-saved-properties
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://prisma:prisma@localhost:5432/insemble?schema=public"
 }
 generator client {
@@ -54,10 +54,10 @@
   estimate     String
 }
 model TenantUser {
-  id                   String     @id @default(cuid())
-  email                String     @unique
+  id                   String          @id @default(cuid())
+  email                String          @unique
   avatar               String?
   password             String
   firstName            String
   lastName             String
@@ -65,12 +65,13 @@
   phoneNumber          String?
   title                String?
   description          String?
   brands               Brand[]
+  savedProperties      SavedProperty[]
   tier                 TenantTier
-  pendingEmail         Boolean    @default(false)
-  stripeCustomerId     String?    @unique
-  stripeSubscriptionId String?    @unique
+  pendingEmail         Boolean         @default(false)
+  stripeCustomerId     String?         @unique
+  stripeSubscriptionId String?         @unique
 }
 model LandlordUser {
   id                   String       @id @default(cuid())
@@ -141,9 +142,9 @@
   pricePerSqft  Int
   equipment     String[]
   available     DateTime
   matchingBrand String?
-  createdAt     DateTime  @default(now())
+  createdAt     DateTime @default(now())
 }
 model Property {
   id                  String              @id @default(cuid())
@@ -158,11 +159,22 @@
   categories          String[]
   exclusive           String[]
   businessType        String[]
   space               Space[]
-  createdAt           DateTime                 @default(now())
+  createdAt           DateTime            @default(now())
 }
+model SavedProperty {
+  id         String   @id @default(cuid())
+  spaceId    String
+  address    String
+  thumbnail  String
+  matchValue Float
+  rent       Int?
+  sqft       Int
+  createdAt  DateTime @default(now())
+}
+
 model TenantSession {
   id        String     @default(cuid()) @id
   token     String
   createdAt DateTime   @default(now())
@@ -185,13 +197,13 @@
   tokenQuery    String
 }
 model LandlordEmailVerification {
-  id          String       @default(cuid()) @id
-  email       String
-  user        LandlordUser
-  verified    Boolean      @default(false)
-  tokenEmail  String
+  id         String       @default(cuid()) @id
+  email      String
+  user       LandlordUser
+  verified   Boolean      @default(false)
+  tokenEmail String
 }
 model SubscriptionTenantHistory {
   id             String     @default(cuid()) @id
@@ -211,13 +223,13 @@
   tokenQuery    String
 }
 model TenantEmailVerification {
-  id          String     @default(cuid()) @id
-  email       String
-  user        TenantUser
-  verified    Boolean    @default(false)
-  tokenEmail  String
+  id         String     @default(cuid()) @id
+  email      String
+  user       TenantUser
+  verified   Boolean    @default(false)
+  tokenEmail String
 }
 model TenantResetPasswordVerification {
   id         String     @default(cuid()) @id
@@ -235,19 +247,20 @@
   verified   Boolean      @default(false)
   tokenEmail String
   tokenQuery String
 }
+
 model Conversation {
-  id          String       @default(cuid()) @id
-  tenant      TenantUser
-  landlord    LandlordUser
-  messages    Message[]
-  brand       Brand
-  property    Property
-  space       Space
-  matchScore  Float
-  header      String
-  createdAt   DateTime     @default(now())
+  id         String       @default(cuid()) @id
+  tenant     TenantUser
+  landlord   LandlordUser
+  messages   Message[]
+  brand      Brand
+  property   Property
+  space      Space
+  matchScore Float
+  header     String
+  createdAt  DateTime     @default(now())
 }
 model Message {
   id        String      @default(cuid()) @id
@@ -256,11 +269,11 @@
   createdAt DateTime    @default(now())
 }
 model PendingConversation {
-  id                       String       @default(cuid()) @id
-  pendingConversationData  String
-  brandId                  String
-  spaceId                  String
-  senderRole               MessageRole
-  receiverContact          String
+  id                      String      @default(cuid()) @id
+  pendingConversationData String
+  brandId                 String
+  spaceId                 String
+  senderRole              MessageRole
+  receiverContact         String
 }
```


