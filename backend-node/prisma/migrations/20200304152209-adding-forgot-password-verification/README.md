# Migration `20200304152209-adding-forgot-password-verification`

This migration has been generated by RaymondAnggara at 3/4/2020, 3:22:09 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."TenantResetPasswordVerification" (
    "email" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "user" text  NOT NULL ,
    "verified" boolean  NOT NULL DEFAULT false,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."LandlordResetPasswordVerification" (
    "email" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "user" text  NOT NULL ,
    "verified" boolean  NOT NULL DEFAULT false,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."TenantResetPasswordVerification" ADD FOREIGN KEY ("user") REFERENCES "public"."TenantUser"("id") ON DELETE RESTRICT

ALTER TABLE "public"."LandlordResetPasswordVerification" ADD FOREIGN KEY ("user") REFERENCES "public"."LandlordUser"("id") ON DELETE RESTRICT
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200301210839-billing..20200304152209-adding-forgot-password-verification
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://prisma:prisma@localhost:5432/insemble?schema=public"
 }
 generator client {
@@ -134,18 +134,18 @@
 model Space {
-  id String @id @default(cuid())
-
-  mainPhoto    String
-  photos       String[]
-  description  String
-  condition    String
-  sqft         Int
-  pricePerSqft Int
-  equipment    String[]
-  available    DateTime
+  id            String   @id @default(cuid())
+  mainPhoto     String
+  photos        String[]
+  description   String
+  condition     String
+  sqft          Int
+  pricePerSqft  Int
+  equipment     String[]
+  available     DateTime
+  matchingBrand String?
 }
 model Property {
   id                  String              @id @default(cuid())
@@ -204,4 +204,18 @@
   email    String
   user     TenantUser
   verified Boolean    @default(false)
 }
+
+model TenantResetPasswordVerification {
+  id       String     @default(cuid()) @id
+  email    String
+  user     TenantUser
+  verified Boolean    @default(false)
+}
+
+model LandlordResetPasswordVerification {
+  id       String     @default(cuid()) @id
+  email    String
+  user     LandlordUser
+  verified Boolean    @default(false)
+}
```


