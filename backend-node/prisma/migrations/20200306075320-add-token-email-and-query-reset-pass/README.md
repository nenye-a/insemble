# Migration `20200306075320-add-token-email-and-query-reset-pass`

This migration has been generated by RaymondAnggara at 3/6/2020, 7:53:20 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."TenantResetPasswordVerification" ADD COLUMN "tokenEmail" text  NOT NULL DEFAULT '',
ADD COLUMN "tokenQuery" text  NOT NULL DEFAULT '';

ALTER TABLE "public"."LandlordResetPasswordVerification" ADD COLUMN "tokenEmail" text  NOT NULL DEFAULT '',
ADD COLUMN "tokenQuery" text  NOT NULL DEFAULT '';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200304152209-adding-forgot-password-verification..20200306075320-add-token-email-and-query-reset-pass
--- datamodel.dml
+++ datamodel.dml
@@ -1,38 +1,29 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://prisma:prisma@localhost:5432/insemble?schema=public"
 }
 generator client {
   provider = "prisma-client-js"
 }
 enum TenantTier {
-  FREE
-  EXPLORE
-  SMART
-  PROFESSIONAL
+  FREE EXPLORE SMART PROFESSIONAL
 }
 enum LandlordTier {
-  FREE
-  EXPLORE
-  SMART
-  PROFESSIONAL
+  FREE EXPLORE SMART PROFESSIONAL
 }
 enum NewLocationPlan {
-  YES
-  NOT_ACTIVE
-  NOT_PLANNING
+  YES NOT_ACTIVE NOT_PLANNING
 }
 enum MarketingPreference {
-  PUBLIC
-  PRIVATE
+  PUBLIC PRIVATE
 }
 model MatchingProperty {
   id         String @id @default(cuid())
@@ -206,16 +197,20 @@
   verified Boolean    @default(false)
 }
 model TenantResetPasswordVerification {
-  id       String     @default(cuid()) @id
-  email    String
-  user     TenantUser
-  verified Boolean    @default(false)
+  id         String     @default(cuid()) @id
+  email      String
+  user       TenantUser
+  verified   Boolean    @default(false)
+  tokenEmail String
+  tokenQuery String
 }
 model LandlordResetPasswordVerification {
-  id       String     @default(cuid()) @id
-  email    String
-  user     LandlordUser
-  verified Boolean    @default(false)
+  id         String       @default(cuid()) @id
+  email      String
+  user       LandlordUser
+  verified   Boolean      @default(false)
+  tokenEmail String
+  tokenQuery String
 }
```


