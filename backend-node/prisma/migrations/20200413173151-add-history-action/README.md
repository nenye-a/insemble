# Migration `20200413173151-add-history-action`

This migration has been generated by RaymondAnggara at 4/13/2020, 5:31:51 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Space" ALTER COLUMN "tier" SET DEFAULT 'NO_TIER';

ALTER TABLE "public"."SubscriptionTenantHistory" ADD COLUMN "action" text  NOT NULL DEFAULT 'CREATE';

ALTER TABLE "public"."SubscriptionLandlordHistory" ADD COLUMN "action" text  NOT NULL DEFAULT 'CREATE';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200413152039-update-landlord-billing-and-trial..20200413173151-add-history-action
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://prisma:prisma@localhost:5432/insemble?schema=public"
 }
 generator client {
@@ -35,8 +35,14 @@
   TENANT
   LANDLORD
 }
+enum HistoryAction {
+  CREATE
+  CHANGE
+  CANCEL
+}
+
 model Location {
   id      String @id @default(cuid())
   address String
   lat     String
@@ -206,19 +212,21 @@
   tokenEmail String
 }
 model SubscriptionTenantHistory {
-  id             String     @default(cuid()) @id
+  id             String         @default(cuid()) @id
   subscriptionId String
+  action         HistoryAction  @default(CREATE)
   tenantUser     TenantUser
-  createdAt      DateTime   @default(now())
+  createdAt      DateTime       @default(now())
 }
 model SubscriptionLandlordHistory {
-  id             String     @default(cuid()) @id
+  id             String         @default(cuid()) @id
   subscriptionId String
+  action         HistoryAction  @default(CREATE)
   landlordUser   LandlordUser
-  createdAt      DateTime   @default(now())
+  createdAt      DateTime       @default(now())
 }
 model TenantRegisterVerification {
   id            String  @default(cuid()) @id
```


